(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{7696:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adm/update-reserva/[codigo]",function(){return s(8967)}])},8967:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var l=s(5893),t=s(7294),o=s(5121),r=s(1163),i=s(4999),c=s.n(i),n=s(9008),d=s.n(n);function m(){let[e,a]=(0,t.useState)({id:"",dataReserva:"",clienteId:"",pagamentoId:"",viagemId:""}),s=(0,r.useRouter)(),{codigo:i}=s.query;(0,t.useEffect)(()=>{o.Z.get("https://localhost:7240/api/Reservas/".concat(e.id)).then(e=>{a({...e.data,dataReserva:e.data.dataReserva.split("T")[0]})}).catch(e=>{console.error("Erro ao buscar detalhes da reserva:",e)})},[i]);let n=s=>{a({...e,[s.target.name]:s.target.value})},[m,h]=(0,t.useState)([]),[u,p]=(0,t.useState)([]),[v,x]=(0,t.useState)([]);(0,t.useEffect)(()=>{o.Z.get("https://localhost:7240/api/Clientes").then(e=>{h(e.data)}).catch(e=>{console.error("Erro ao buscar a lista de clientes:",e)})},[]),(0,t.useEffect)(()=>{o.Z.get("https://localhost:7240/api/Viagem").then(e=>{p(e.data)}).catch(e=>{console.error("Erro ao buscar a lista de viagens:",e)})},[]),(0,t.useEffect)(()=>{o.Z.get("https://localhost:7240/api/Pagamentos").then(e=>{x(e.data)}).catch(e=>{console.error("Erro ao buscar a lista de pagamentos:",e)})},[]);let g=e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d(),{children:(0,l.jsx)("title",{children:"ADM - Atualiza\xe7\xe3o de Reservas"})}),(0,l.jsxs)("main",{className:c().body,children:[(0,l.jsxs)("h1",{className:"".concat(c().h1),children:["Atualizar Reserva n\xba ",e.id]}),(0,l.jsx)("div",{className:"".concat(c().conteudo," row py-5 container"),children:(0,l.jsx)("div",{className:"col-sm-12",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("form",{method:"post",action:"/adm/reserva",children:[(0,l.jsx)("input",{type:"hidden",name:"id",value:e.id=i,onChange:n}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:"Dados para Reserva"}),(0,l.jsxs)("div",{className:"row my-2",children:[(0,l.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"dataRes",children:"Data da Reserva"}),(0,l.jsx)("input",{id:"dataRes",type:"date",className:"form-control",required:!0,name:"dataReserva",value:e.dataReserva,onChange:n})]})}),(0,l.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"cliente",children:"Selecione o cliente para consulta de ID"}),(0,l.jsxs)("select",{id:"cliente",value:m.id,className:"form-select form-control w-100",children:[(0,l.jsx)("option",{value:"",children:"--- Consultar Dados ---"}),m.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.id," - ",e.nome,", cpf: ",e.cpf]},e.id))]}),(0,l.jsx)("label",{htmlFor:"cli",children:"Digite o ID do cliente"}),(0,l.jsx)("input",{id:"cli",type:"number",className:"form-control",placeholder:"Digite o ID",name:"clienteId",required:!0,value:e.clienteId,onChange:n})]})})]}),(0,l.jsxs)("div",{className:"row my-2",children:[(0,l.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"viagem",children:"Selecione a viagem para consulta de ID"}),(0,l.jsxs)("select",{id:"viagem",className:"form-select form-control w-100",children:[(0,l.jsx)("option",{value:"",children:"--- Consultar Dados ---"}),u.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.id," - ",e.origem," x ",e.destino]},e.id))]}),(0,l.jsx)("label",{htmlFor:"viag",children:"Digite o ID da viagem"}),(0,l.jsx)("input",{id:"viag",type:"number",className:"form-control",placeholder:"Digite o ID",name:"viagemId",required:!0,value:e.viagemId,onChange:n})]})}),(0,l.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,l.jsxs)("div",{className:"form-group ",children:[(0,l.jsx)("label",{htmlFor:"pag",children:"Selecione o pagamento para consulta de ID"}),(0,l.jsxs)("select",{id:"pag",className:"form-select form-control w-100",children:[(0,l.jsx)("option",{value:"",children:"--- Consultar Dados ---"}),v.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.id," - ",g(e.valorPag)]},e.id))]}),(0,l.jsx)("label",{htmlFor:"pagID",children:"Digite o ID do pagamento"}),(0,l.jsx)("input",{id:"pagID",type:"number",className:"form-control",placeholder:"Digite o ID",name:"pagamentoId",required:!0,value:e.pagamentoId,onChange:n})]})})]})]})}),(0,l.jsx)("div",{className:"mx-3 py-2",children:(0,l.jsx)("button",{onClick:()=>{o.Z.put("https://localhost:7240/api/Reservas/"+e.id,e).then(e=>{s.push("/adm/reserva")}).catch(e=>{console.error("Erro ao atualizar reserva:",e)})},type:"submit",className:"btn btn-primary",children:"Salvar"})})]})})})})]})]})}},4999:function(e){e.exports={actions:"Cliente_actions__VYZc3",h1:"Cliente_h1__xLJxc",body:"Cliente_body__Ga3L7",tabela:"Cliente_tabela__GQ2pJ",conteudo:"Cliente_conteudo__2uib2"}}},function(e){e.O(0,[121,774,888,179],function(){return e(e.s=7696)}),_N_E=e.O()}]);